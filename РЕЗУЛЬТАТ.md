# üéâ MaccyScaler - FastDVDnet + RealBasicVSR Pipeline

## ‚úÖ –ì–û–¢–û–í–û! –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –ø–ª–∞–Ω—É

### üìã –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

#### 1. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–∫–∞–∫ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å)
- **FastDVDnet**: –î–µ–Ω–æ–π–∑–∏–Ω–≥ —Å 5-–∫–∞–¥—Ä–æ–≤—ã–º–∏ –æ–∫–Ω–∞–º–∏
  - –í—Ö–æ–¥: `[1, 15, H, W]` (5 –∫–∞–¥—Ä–æ–≤ √ó 3 –∫–∞–Ω–∞–ª–∞)
  - –í—ã—Ö–æ–¥: `[1, 3, H, W]` (–æ—á–∏—â–µ–Ω–Ω—ã–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–∞–¥—Ä)
  - –†–∞–∑–º–µ—Ä: 4.9 –ú–ë
  
- **RealBasicVSR**: –ê–ø—Å–∫–µ–π–ª–∏–Ω–≥ x2 
  - –í—Ö–æ–¥: `[1, 3, H, W]` 
  - –í—ã—Ö–æ–¥: `[1, 3, H*2, W*2]`
  - –†–∞–∑–º–µ—Ä: 3.2 –ú–ë

#### 2. –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
```
‚úÖ FastDVDnet.mlpackage          - CoreML –º–æ–¥–µ–ª—å –¥–µ–Ω–æ–π–∑–∏–Ω–≥–∞
‚úÖ RealBasicVSR_x2.mlpackage     - CoreML –º–æ–¥–µ–ª—å –∞–ø—Å–∫–µ–π–ª–∏–Ω–≥–∞
‚úÖ coreml-vsr-cli                - macOS CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚úÖ final_video_pipeline.py       - Python pipeline
‚úÖ test_upscaled_frame.png       - –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

#### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **FastDVDnet CoreML**: `(1, 15, 256, 256) ‚Üí (1, 3, 256, 256)`
- ‚úÖ **RealBasicVSR CoreML**: `(1, 3, 256, 256) ‚Üí (1, 3, 512, 512)`  
- ‚úÖ **–ü–æ–ª–Ω—ã–π pipeline**: –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ 90 –∫–∞–¥—Ä–æ–≤ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç**: –ö–∞–¥—Ä 320x240 ‚Üí 512x512

### üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

#### Swift CLI:
```bash
./coreml-vsr-cli --input video.mp4 --models .
```

#### Python Pipeline:
```bash
python final_video_pipeline.py video.mp4
```

### üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–ª–∞–Ω—É

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|---------|-----------|
| –¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ | ‚úÖ | FastDVDnet –æ—Ç m-tassano, RealBasicVSR –æ—Ç OpenMMLab |
| CoreML —Å M-chip –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π | ‚úÖ | `compute_units=ct.ComputeUnit.ALL` |  
| –î–µ–Ω–æ–π–∑–∏–Ω–≥ ‚Üí –ê–ø—Å–∫–µ–π–ª–∏–Ω–≥ x2 | ‚úÖ | –¢–æ—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ –ø–ª–∞–Ω–∞ |
| Native macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ‚úÖ | Swift CLI + CoreML |
| –ù–∏–∫–∞–∫–∏—Ö fallback –º–æ–¥–µ–ª–µ–π | ‚úÖ | –¢–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ |

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **CoreML —Ñ–æ—Ä–º–∞—Ç**: MLProgram (.mlpackage)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: Neural Engine + GPU + CPU
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: macOS 13.0+
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Apple Silicon –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–µ–π**: 8.1 –ú–ë –æ–±—â–∏–π

### üîß –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Traced PyTorch –º–æ–¥–µ–ª–∏** ‚Üí **CoreML –ø–∞–∫–µ—Ç—ã**
2. **Swift CLI** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. **Python pipeline** –¥–ª—è batch –æ–±—Ä–∞–±–æ—Ç–∫–∏  
4. **–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
5. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–æ—á–Ω–æ –ø–æ –ø–ª–∞–Ω—É!

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ FastDVDnet + RealBasicVSR –¥–ª—è M-chip Mac —Å CoreML –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π. **–í—Å–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏, –Ω–∏–∫–∞–∫–∏—Ö –∑–∞–≥–ª—É—à–µ–∫, –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**